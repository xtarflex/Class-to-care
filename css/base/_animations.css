/*
 * Animation utilities and demo styles
 * - .will-animate marks elements prepared for animation (initial state)
 * - .is-inview triggers the keyframe animation
 * - Data attributes pick the animation and timings
 * - CSS variables allow per-element overrides: --ani-duration, --ani-delay, --ani-easing
 */

/* Base: elements to animate start hidden/off-position */
.will-animate {
  opacity: 0;
  will-change: opacity, transform, filter;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

/* When in view, run the variant's keyframe.
   Each variant below assigns its own animation-name on .is-inview. */
.is-inview {
  /* Common animation properties use CSS variables for control */
  animation-duration: var(--ani-duration, 600ms);
  animation-delay: var(--ani-delay, 0ms);
  animation-timing-function: var(--ani-easing, ease-out);
  animation-fill-mode: both; /* retain final state */
}

/* ---------------------------
   Initial states per variant
   --------------------------- */

/* Fade */
.will-animate[data-ani="fade-in"] { opacity: 0; }
/* Fade + translate on Y */
.will-animate[data-ani="fade-up"]   { transform: translate3d(0, 16px, 0); }
.will-animate[data-ani="fade-down"] { transform: translate3d(0, -16px, 0); }
/* Slide (more distance) */
.will-animate[data-ani="slide-up"]   { transform: translate3d(0, 24px, 0); }
.will-animate[data-ani="slide-down"] { transform: translate3d(0, -24px, 0); }
.will-animate[data-ani="slide-left"] { transform: translate3d(24px, 0, 0); }
.will-animate[data-ani="slide-right"]{ transform: translate3d(-24px, 0, 0); }
/* Zoom / Scale */
.will-animate[data-ani="zoom-in"]   { transform: scale(0.92); }
.will-animate[data-ani="zoom-out"]  { transform: scale(1.08); }
.will-animate[data-ani="scale-in"]  { transform: scale(0.85); }
/* Rotate */
.will-animate[data-ani="rotate-in"] { transform: translate3d(0, 8px, 0) rotate(-6deg); }
/* Flip (3D) */
.will-animate[data-ani="flip-in-x"] { transform-origin: top center; transform: perspective(800px) rotateX(-80deg); }
.will-animate[data-ani="flip-in-y"] { transform-origin: center left; transform: perspective(800px) rotateY(-80deg); }
/* Blur */
.will-animate[data-ani="blur-in"]   { filter: blur(10px); }
/* Skew */
.will-animate[data-ani="skew-in"]   { transform: skewY(6deg) translate3d(0, 10px, 0); }
/* Diagonal / slide */
.will-animate[data-ani="slide-up-diag"] { transform: translate(50px, 50px); }

/* ---------------------------
   Keyframes
   --------------------------- */

/* Fades */
@keyframes ani-fade-in   { from { opacity: 0; } to { opacity: 1; } }
@keyframes ani-fade-up   { from { opacity: 0; transform: translate3d(0, 16px, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
@keyframes ani-fade-down { from { opacity: 0; transform: translate3d(0, -16px, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
/* Slides (with fade) */
@keyframes ani-slide-up   { from { opacity: 0; transform: translate3d(0, 24px, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
@keyframes ani-slide-down { from { opacity: 0; transform: translate3d(0, -24px, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
@keyframes ani-slide-left { from { opacity: 0; transform: translate3d(24px, 0, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
@keyframes ani-slide-right{ from { opacity: 0; transform: translate3d(-24px, 0, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
/* Zoom / Scale */
@keyframes ani-zoom-in   { from { opacity: 0; transform: scale(0.92); } to { opacity: 1; transform: scale(1); } }
@keyframes ani-zoom-out  { from { opacity: 0; transform: scale(1.08); } to { opacity: 1; transform: scale(1); } }
@keyframes ani-scale-in  { from { opacity: 0; transform: scale(0.85); } to { opacity: 1; transform: scale(1); } }
/* Rotate */
@keyframes ani-rotate-in { from { opacity: 0; transform: translate3d(0, 8px, 0) rotate(-6deg); } to { opacity: 1; transform: rotate(0deg); } }
/* Flips */
@keyframes ani-flip-in-x { from { opacity: 0; transform: perspective(800px) rotateX(-80deg); } to { opacity: 1; transform: perspective(800px) rotateX(0deg); } }
@keyframes ani-flip-in-y { from { opacity: 0; transform: perspective(800px) rotateY(-80deg); } to { opacity: 1; transform: perspective(800px) rotateY(0deg); } }
/* Blur */
@keyframes ani-blur-in   { from { opacity: 0; filter: blur(10px); } to { opacity: 1; filter: blur(0); } }
/* Skew */
@keyframes ani-skew-in   { from { opacity: 0; transform: skewY(6deg) translate3d(0, 10px, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
/* --- Custom Keyframe for Photostripe --- */
@keyframes ani-slide-up-diag { from { opacity: 0; transform: translate(50px, 50px); } to { opacity: 1; transform: translate(0, 0); } }


/* ---------------------------
   Map variants to keyframes on .is-inview
   --------------------------- */
.is-inview[data-ani="fade-in"] { animation-name: ani-fade-in; }
.is-inview[data-ani="fade-up"] { animation-name: ani-fade-up; }
.is-inview[data-ani="fade-down"] { animation-name: ani-fade-down; }
.is-inview[data-ani="slide-up"] { animation-name: ani-slide-up; }
.is-inview[data-ani="slide-down"] { animation-name: ani-slide-down; }
.is-inview[data-ani="slide-left"] { animation-name: ani-slide-left; }
.is-inview[data-ani="slide-right"] { animation-name: ani-slide-right; }
.is-inview[data-ani="zoom-in"] { animation-name: ani-zoom-in; }
.is-inview[data-ani="zoom-out"] { animation-name: ani-zoom-out; }
.is-inview[data-ani="scale-in"] { animation-name: ani-scale-in; }
.is-inview[data-ani="rotate-in"] { animation-name: ani-rotate-in; }
.is-inview[data-ani="flip-in-x"] { animation-name: ani-flip-in-x; }
.is-inview[data-ani="flip-in-y"] { animation-name: ani-flip-in-y; }
.is-inview[data-ani="blur-in"] { animation-name: ani-blur-in; }
.is-inview[data-ani="skew-in"] { animation-name: ani-skew-in; }
.is-inview[data-ani="slide-up-diag"] { animation-name: ani-slide-up-diag; }


/* ---------------------------
   Reduced motion
   --------------------------- */
/* If user prefers reduced motion, reveal without movement. */
@media (prefers-reduced-motion: reduce) {
  .will-animate {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    animation: none !important;
    will-change: auto !important;
  }
}

/* =================================== */
/* ANIMATIONS THAT RUN ON PAGE LOAD   */
/* =================================== */
.animate-on-load {
  animation-fill-mode: forwards; /* Ensures the element stays in its final state */
}

/* =================================== */
/* ORIGINAL INTERACTION ANIMATIONS     */
/* =================================== */

/* --- Scroll Down Indicator --- */
@keyframes shooting-arrows {
    0% {
        opacity: 0;
        transform: translateY(-20px);
    }
    30% {
        opacity: 1;
    }
    70% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 0;
        transform: translateY(-20px);
    }
}

/* --- Button Effects --- */
@keyframes glare {
  0% {
    left: -100%;
  }
  5% {
    left: 100%;
  }
  100% {
    left: 100%;
  }
}

@keyframes shoot-right {
    0% {
        opacity: 1;
        transform: translateX(0);
    }
    50% {
        opacity: 0;
        transform: translateX(10px);
    }
    51% {
        opacity: 0;
        transform: translateX(-10px);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}
